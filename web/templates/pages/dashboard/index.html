{% extends "layouts/base.html" %}

{% block title_icon %}<i data-lucide="layout-dashboard"></i>{% endblock %}
{% block title %}Dashboard Utama{% endblock %}

{% block content %}
<!-- Welcome Banner -->
<div
    class="bg-gradient-to-r from-teal-800 to-teal-600 rounded-xl shadow-lg p-6 mb-8 text-white relative overflow-hidden">
    <div class="relative z-10">
        <h2 class="text-3xl font-bold mb-2">Selamat Datang, {{ current_user.username }}!</h2>
        <p class="text-teal-100/90 text-lg">Sistem Informasi Raport Digital Madrasah Diniyah Takmiliyah Al Barokah.</p>
    </div>
    <i data-lucide="book-open" class="absolute -right-6 -bottom-6 w-40 h-40 text-teal-400/20 transform rotate-12"></i>
</div>

<!-- Stats Grid -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
    <!-- Stat Subject -->
    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center hover:shadow-md transition">
        <div class="p-3 rounded-full bg-blue-50 text-blue-600 mr-4">
            <i data-lucide="book" class="w-8 h-8"></i>
        </div>
        <div>
            <p class="text-sm text-gray-500 font-medium">Total Mata Pelajaran</p>
            <p class="text-2xl font-bold text-gray-800">{{ subject_count }}</p>
        </div>
    </div>

    <!-- Stat Student -->
    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center hover:shadow-md transition">
        <div class="p-3 rounded-full bg-emerald-50 text-emerald-600 mr-4">
            <i data-lucide="users" class="w-8 h-8"></i>
        </div>
        <div>
            <p class="text-sm text-gray-500 font-medium">Total Santri Aktif</p>
            <p class="text-2xl font-bold text-gray-800">{{ student_count }}</p>
        </div>
    </div>

    <!-- Stat Class (Placeholder) -->
    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center hover:shadow-md transition">
        <div class="p-3 rounded-full bg-purple-50 text-purple-600 mr-4">
            <i data-lucide="graduation-cap" class="w-8 h-8"></i>
        </div>
        <div>
            <p class="text-sm text-gray-500 font-medium">Kelas / Rombel</p>
            <p class="text-2xl font-bold text-gray-800">1</p>
        </div>
    </div>
</div>

<!-- Shortcuts -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
        <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
            <i data-lucide="activity" class="w-5 h-5 mr-2 text-teal-600"></i> Aktivitas Cepat
        </h3>
        <div class="space-y-3">
            <a href="{{ url_for('grades.index') }}"
                class="block p-4 border border-gray-200 rounded-lg hover:bg-teal-50 hover:border-teal-200 transition group">
                <div class="flex items-center justify-between">
                    <div>
                        <h4 class="font-bold text-gray-700 group-hover:text-teal-700">Input Nilai Semester</h4>
                        <p class="text-sm text-gray-500">Isi nilai akademik santri secara batch.</p>
                    </div>
                    <i data-lucide="chevron-right" class="w-5 h-5 text-gray-400 group-hover:text-teal-600"></i>
                </div>
            </a>
            <a href="{{ url_for('reports.index') }}"
                class="block p-4 border border-gray-200 rounded-lg hover:bg-teal-50 hover:border-teal-200 transition group">
                <div class="flex items-center justify-between">
                    <div>
                        <h4 class="font-bold text-gray-700 group-hover:text-teal-700">Cetak Raport</h4>
                        <p class="text-sm text-gray-500">Download PDF raport siap cetak.</p>
                    </div>
                    <i data-lucide="chevron-right" class="w-5 h-5 text-gray-400 group-hover:text-teal-600"></i>
                </div>
            </a>
        </div>
    </div>

    <!-- Kalender / Info -->
    <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
        <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
            <i data-lucide="info" class="w-5 h-5 mr-2 text-teal-600"></i> Informasi Sistem
        </h3>
        <ul class="space-y-4 text-sm text-gray-600">
            <li class="flex items-start">
                <i data-lucide="check-circle" class="w-4 h-4 mr-2 mt-0.5 text-green-500"></i>
                <span>Pastikan data Identitas Sekolah di menu <strong>Pengaturan</strong> sudah benar sebelum mencetak
                    raport.</span>
            </li>
            <li class="flex items-start">
                <i data-lucide="check-circle" class="w-4 h-4 mr-2 mt-0.5 text-green-500"></i>
                <span>Gunakan kertas <strong>A4</strong> saat mencetak file PDF Raport.</span>
            </li>
        </ul>
    </div>
</div>
{% endblock %}