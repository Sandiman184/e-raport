{% extends "layouts/base.html" %}

{% block title_icon %}<i data-lucide="printer"></i>{% endblock %}
{% block title %}Cetak Raport{% endblock %}

{% block content %}
<div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
    <div class="p-6 border-b border-gray-100">
        <h2 class="text-lg font-bold text-gray-800">Pilih Santri untuk Cetak</h2>
        <p class="text-sm text-gray-500">Klik tombol "Preview / Cetak" pada santri yang diinginkan.</p>
    </div>

    <!-- Filter/Search (Optional) -->
    <!-- <div class="p-4 bg-gray-50 border-b border-gray-100">...</div> -->

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-6">
        {% for student in students.items %}
        <div class="border rounded-xl p-4 hover:shadow-md transition bg-white flex flex-col">
            <div class="flex items-center mb-4">
                <div
                    class="w-10 h-10 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center font-bold mr-3">
                    {{ student.name[0] }}
                </div>
                <div>
                    <h4 class="font-bold text-gray-800 line-clamp-1">{{ student.name }}</h4>
                    <p class="text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded inline-block">NIS: {{ student.nis }}
                    </p>
                </div>
            </div>

            <div class="mt-auto grid grid-cols-2 gap-2">
                <a href="{{ url_for('reports.print_report', student_id=student.id, semester=1) }}" target="_blank"
                    class="flex items-center justify-center px-3 py-2 bg-teal-50 text-teal-700 rounded-lg hover:bg-teal-100 text-sm font-medium transition group">
                    <i data-lucide="printer" class="w-4 h-4 mr-2 group-hover:scale-110 transition-transform"></i> Sem 1
                </a>
                <a href="{{ url_for('reports.print_report', student_id=student.id, semester=2) }}" target="_blank"
                    class="flex items-center justify-center px-3 py-2 bg-teal-50 text-teal-700 rounded-lg hover:bg-teal-100 text-sm font-medium transition group">
                    <i data-lucide="printer" class="w-4 h-4 mr-2 group-hover:scale-110 transition-transform"></i> Sem 2
                </a>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Pagination -->
    <!-- Simple pagination placeholder -->
    <div class="p-4 border-t border-gray-100 bg-gray-50 text-center">
        <span class="text-sm text-gray-500 block mb-2">Menampilkan {{ students.items|length }} data</span>
        <div class="flex justify-center gap-2">
            {% if students.has_prev %}
            <a href="{{ url_for('reports.index', page=students.prev_num) }}"
                class="px-3 py-1 bg-white border rounded text-sm">Prev</a>
            {% endif %}
            {% if students.has_next %}
            <a href="{{ url_for('reports.index', page=students.next_num) }}"
                class="px-3 py-1 bg-white border rounded text-sm">Next</a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}